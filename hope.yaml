masters:
  - root@192.168.1.31
nodes:
  - root@192.168.1.30
loglevel: trace
pod_network_cidr: 10.244.0.0/16
# Resource list of all things to deploy to the cluster, and the order in which
#   to deploy them.
# Resources can be defined in the following different ways:
resources:
  # Using a url to a file that can be passed directly to kubectl apply -f.
  # These can be http(s):// urls, or just file path.
  # It will always be preferred that urls appearing here are to stable yaml
  #   files available on the Internet, rather than anything loaded from the
  #   local machine.
  # Local paths can be used for testing, but ultimately, whatever ends up being
  #   deployed should be done so using GitHub tags/releases.
  - name: calico
    file: https://docs.projectcalico.org/manifests/calico.yaml
  # Inline definitions are also supported.
  # These values have to be provided as yaml strings under the `inline` key.
  # Values passed in through `inline` will be fed through `envsubst` before
  #   being passed off to kubectl, so any values that are dynamic/secret can be
  #   passed in through using environment variables.
  # As is the case with anything else hitting kubectl apply -f, multiple
  #   objects can be provided by --- separators.
  - name: load-balancer-config
    inline: |
      apiVersion: v1
      kind: ConfigMap
      metadata:
        namespace: metallb-system
        name: config
      data:
        config: |
          address-pools:
          - name: default
            protocol: layer2
            addresses:
            - 192.168.1.16-192.168.1.24
      ---
      apiVersion: v1
      data:
        secretkey: ${METALLB_SYSTEM_MEMBERLIST_SECRET_KEY}
      kind: Secret
      metadata:
        creationTimestamp: null
        name: memberlist
        namespace: metallb-system
